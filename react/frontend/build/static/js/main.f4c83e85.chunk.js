(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},23:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},26:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(22),s=a.n(c),r=(a(31),a(2)),i=a(3),l=a(6),u=a(4),h=a(5),m=a(23),p=a.n(m),g=(a(15),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("APP"),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),o.a.createElement("p",null,"Edit ",o.a.createElement("code",null,"src/App.js")," and save to reload."),o.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))}}]),t}(n.Component)),d=a(1),b=a(11),f=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return console.log("Navigation Bar Rendered."),e=this.props.loggedIn?o.a.createElement(j,{className:"NavLink",to:"/Logout"},"Logout"):o.a.createElement(j,{className:"NavLink",to:"/Login"},"Login"),o.a.createElement("div",{className:"Nav"},o.a.createElement("div",{className:"EmptyFlex",style:{flexGrow:"3"}}),o.a.createElement(j,{className:"Title",to:"/"},"ArrayOutOfBounds"),o.a.createElement(O,{className:"SearchBar",action:"/search"}),o.a.createElement("div",{className:"EmptyFlex",style:{flexGrow:"2"}}),o.a.createElement(j,{className:"NavLink",to:"/Home"},"Home"),o.a.createElement(j,{className:"NavLink",to:"/Questions"},"Questions"),e,o.a.createElement("div",{className:"EmptyFlex",style:{flexGrow:"3"}}))}}]),t}(o.a.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.search=a.search.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"search",value:function(e){console.log("Search"),e.preventDefault()}},{key:"render",value:function(){return o.a.createElement("form",{className:"SearchForm",onSubmit:this.search},o.a.createElement("input",{className:this.props.className,type:"search",value:this.state.value,onChange:this.handleChange}),o.a.createElement("input",{className:"button SearchButton",type:"submit",value:"Search"}))}}]),t}(o.a.Component),j=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(b.b,{style:{textDecoration:"none"},className:this.props.className,to:this.props.to},this.props.children)}}]),t}(o.a.Component),v=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{className:this.props.className,onClick:this.props.callback},this.props.children)}}]),t}(o.a.Component),E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).postQuestion=a.postQuestion.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"postQuestion",value:function(){console.log("Posting question."),this.props.history.push("/Home")}},{key:"componentDidMount",value:function(){var e=this;this.props.getLoginStatus().then(function(t){t!==e.props.loggedIn&&e.props.setLoginState(t)}).catch(function(e){console.log("Error getting login status: "+e)})}},{key:"render",value:function(){var e,t=!1;return null!=this.props.location.state&&(t=this.props.location.state.skipFirstRender,this.props.location.state.skipFirstRender=!1,this.props.location.state=null),t?o.a.createElement("div",null):(e=this.props.loggedIn?o.a.createElement("p",null,"Logged In"):o.a.createElement("p",null,"Logged Out"),o.a.createElement("div",null,o.a.createElement(v,{className:"button ripple",callback:this.postQuestion},"Post Question"),e))}}]),t}(o.a.Component),y=a(12),N=a(13),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",email:"",password:"",notification:""},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.createAccount=a.createAccount.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(N.a)({},t,a))}},{key:"createAccount",value:function(e){console.log("Create New Account"),e.preventDefault();var t={username:this.state.username,email:this.state.email,password:this.state.password},a=this;fetch(this.props.action,{method:"POST",credentials:"include",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return console.log(e),e.json()}).then(function(e){"OK"===e.status?a.props.history.push({pathname:"/NewAccount",state:{msg:"You have successfully created a new account."}}):"error"===e.status?a.setState({notification:"Could not create an account successfully. Try again please. Error: "+e.error}):console.log("Unkown error: "+e.error)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"Notification"},this.state.notification),o.a.createElement("form",{className:"",onSubmit:this.createAccount},o.a.createElement("label",null,"Username:",o.a.createElement("input",{className:this.props.className,type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),o.a.createElement("br",null),o.a.createElement("label",null,"Email:",o.a.createElement("input",{className:this.props.className,type:"email",name:"email",value:this.state.email,onChange:this.handleChange})),o.a.createElement("br",null),o.a.createElement("label",null,"Password:",o.a.createElement("input",{className:this.props.className,type:"text",name:"password",value:this.state.password,onChange:this.handleChange})),o.a.createElement("input",{className:"button ripple",type:"submit",value:"Create Account"})))}}]),t}(o.a.Component),C=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"Notification"},this.props.location.state.msg))}}]),t}(o.a.Component),k=Object(y.d)(S),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",notification:"",redirect:!1},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.login=a.login.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(N.a)({},t,a))}},{key:"login",value:function(e){console.log("Log in"),e.preventDefault();var t={username:this.state.username,password:this.state.password},a=this;fetch(this.props.action,{method:"POST",credentials:"include",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){"OK"===e.status?(a.setState({redirect:!0}),a.props.history.push({pathname:"/Home",state:{skipFirstRender:!0}})):"error"===e.status?a.setState({notification:"Could not login successfully. Try again please. Error: "+e.error}):console.log("Unkown error: "+e.error)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"Notification"},this.state.notification),o.a.createElement("form",{className:"",onSubmit:this.login},o.a.createElement("label",null,"Username:",o.a.createElement("input",{className:this.props.className,type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),o.a.createElement("br",null),o.a.createElement("label",null,"Password:",o.a.createElement("input",{className:this.props.className,type:"text",name:"password",value:this.state.password,onChange:this.handleChange})),o.a.createElement("input",{className:"button ripple",type:"submit",value:"Login"})))}}]),t}(o.a.Component),w=Object(y.d)(L),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={email:"",key:"",notification:""},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.verifyAccount=a.verifyAccount.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(N.a)({},t,a))}},{key:"verifyAccount",value:function(e){console.log("Verify Account"),e.preventDefault();var t={email:this.state.email,key:this.state.key},a=this;fetch(this.props.action,{method:"POST",credentials:"include",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){"OK"===e.status?a.props.history.push({pathname:"/Verify",state:{msg:"You have successfully verified a new account."}}):"error"===e.status?a.setState({notification:"Could not verify an account successfully. Try again please. Error: "+e.error}):console.log("Unkown error: "+e.error)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"Notification"},this.state.notification),o.a.createElement("form",{className:"",onSubmit:this.createAccount},o.a.createElement("label",null,"Email:",o.a.createElement("input",{className:this.props.className,type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),o.a.createElement("br",null),o.a.createElement("label",null,"Key:",o.a.createElement("input",{className:this.props.className,type:"text",name:"key",value:this.state.key,onChange:this.handleChange})),o.a.createElement("input",{className:"button ripple",type:"submit",value:"Verify Account"})))}}]),t}(o.a.Component),I=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"Notification"},this.props.location.state.msg))}}]),t}(o.a.Component),x=Object(y.d)(A),T=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getLoginStatus().then(function(t){t!==e.props.loggedIn&&e.props.setLoginState(t)}).catch(function(e){console.log("Error getting login status: "+e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k,{action:"/adduser"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement(w,{action:"/login"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement(x,{action:"/verify"}))}}]),t}(o.a.Component),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={notification:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.action,{method:"POST",credentials:"include",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){var a;a="OK"===t.status?"You have successfully logged out.":"Could not logout. Error: "+t.error,e.props.setLoginState(!1,a)}).catch(function(t){console.log("Error getting logout: "+t),e.props.setLoginState(!1,"Failed to logout.")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"Notification"},this.props.notification))}}]),t}(o.a.Component),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={email:"",key:"",notification:""},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.verifyAccount=a.verifyAccount.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component),Q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setLoginState=a.setLoginState.bind(Object(d.a)(Object(d.a)(a))),a.getLoginStatus=a.getLoginStatus.bind(Object(d.a)(Object(d.a)(a))),a.state={loggedIn:!1,notification:""},a.justChanged=!1,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"setLoginState",value:function(e,t){this.setState({loggedIn:e,notification:t})}},{key:"getLoginStatus",value:function(){console.log("get login status was called");var e=this;return fetch("/CheckLoginStatus",{method:"POST",credentials:"include",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){return e.state.loggedIn!==t.loggedIn&&(e.justChanged=!0,e.setState({loggedIn:t.loggedIn})),!0===t.loggedIn}).catch(function(e){return console.log("Failed to find out if you are logged in: "+e),!1})}},{key:"render",value:function(){var e=this,t=this.state.loggedIn;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{loggedIn:t}),o.a.createElement(y.a,{exact:!0,path:"/",render:function(a){return o.a.createElement(g,Object.assign({},a,{loggedIn:t,getLoginStatus:e.getLoginStatus,setLoginState:e.setLoginState}))}}),o.a.createElement(y.a,{path:"/Home",render:function(a){return o.a.createElement(E,Object.assign({},a,{loggedIn:t,getLoginStatus:e.getLoginStatus,setLoginState:e.setLoginState}))}}),o.a.createElement(y.a,{path:"/Search",render:function(a){return o.a.createElement(E,Object.assign({},a,{loggedIn:t,getLoginStatus:e.getLoginStatus,setLoginState:e.setLoginState}))}}),o.a.createElement(y.a,{path:"/NewAccount",render:function(a){return o.a.createElement(C,Object.assign({},a,{loggedIn:t,getLoginStatus:e.getLoginStatus,setLoginState:e.setLoginState}))}}),o.a.createElement(y.a,{path:"/Login",render:function(a){return o.a.createElement(T,Object.assign({},a,{loggedIn:t,getLoginStatus:e.getLoginStatus,setLoginState:e.setLoginState}))}}),o.a.createElement(y.a,{path:"/Logout",render:function(a){return o.a.createElement(P,Object.assign({},a,{action:"/logout",notification:e.state.notification,loggedIn:t,getLoginStatus:e.getLoginStatus,setLoginState:e.setLoginState}))}}),o.a.createElement(y.a,{path:"/Verified",component:I}),o.a.createElement(y.a,{path:"/Questions",component:F}),o.a.createElement(y.a,{path:"/Question/:id"}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(b.a,null,o.a.createElement("div",null,o.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.f4c83e85.chunk.js.map